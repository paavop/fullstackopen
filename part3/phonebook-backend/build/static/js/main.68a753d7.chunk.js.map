{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Button","onClick","text","Person","person","deletePerson","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","persons","filter","setPersons","setNotification","find","p","window","confirm","personService","setTimeout","catch","error","type","toLowerCase","includes","map","key","PersonForm","setNewName","setNewNumber","newName","newNumber","onSubmit","event","preventDefault","length","oldPerson","newPerson","returnedPerson","personObject","concat","value","onChange","target","Filter","setFilter","Notification","message","style","color","fontSize","className","App","useState","notification","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68a753d7.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number}{\" \"}\n      <Button onClick={deletePerson} text=\"delete\" />\n    </div>\n  );\n};\n\nconst Button = ({ onClick, text }) => <button onClick={onClick}>{text}</button>;\n\nexport default Person;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React from \"react\";\nimport Person from \"./Person\";\nimport personService from \"../services/persons\";\n\nconst Persons = ({ persons, filter, setPersons, setNotification }) => {\n  const rows = () =>\n    persons\n      .filter(person =>\n        person.name.toLowerCase().includes(filter.toLowerCase())\n      )\n      .map(p => (\n        <Person\n          key={p.name}\n          person={p}\n          deletePerson={() => deletePerson(p.id)}\n        />\n      ));\n  const deletePerson = id => {\n    const name = persons.find(p => p.id === id).name;\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .remove(id)\n        .then(() => {\n          setNotification({ text: `Deleted number of ${name}` });\n          setTimeout(() => {\n            setNotification({});\n          }, 5000);\n          setPersons(persons.filter(p => p.id !== id));\n        })\n        .catch(error => {\n          setNotification({\n            text: `The number of '${name}' was already deleted from server`,\n            type: 'error'\n          });\n          setTimeout(() => {\n            setNotification({});\n          }, 5000);\n          setPersons(persons.filter(p => p.id !== id));\n        });\n    }\n  };\n  return <div>{rows()}</div>;\n};\n\nexport default Persons;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst PersonForm = ({\n  setNewName,\n  setNewNumber,\n  setPersons,\n  newName,\n  newNumber,\n  persons,\n  setNotification\n}) => {\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const addName = event => {\n    event.preventDefault();\n    if (persons.filter(person => person.name === newName).length) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const oldPerson = persons.find(p => p.name === newName);\n        const newPerson = { ...oldPerson, number: newNumber };\n        personService.update(oldPerson.id, newPerson).then(returnedPerson => {\n          setNotification({ text: `Updated number for ${oldPerson.name}`});\n          setTimeout(() => {\n            setNotification({});\n          }, 5000);\n          setPersons(persons.map(p => (p.id !== oldPerson.id ? p : newPerson)));\n        });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      };\n\n      personService.create(personObject).then(newPerson => {\n        setNotification({text: `Added number for ${personObject.name}`});\n        setTimeout(() => {\n          setNotification({});\n        }, 5000);\n        setPersons(persons.concat(newPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      }).catch(error => {\n        setNotification({\n          text: `Error: '${error}'`,\n          type: 'error'\n        });\n        setTimeout(() => {\n          setNotification({});\n        }, 5000);\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={addName}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Filter = ({ filter, setFilter }) => {\n  const handleFilterChange = event => {\n    setFilter(event.target.value);\n  };\n  return (\n    <div>\n      Filter: <input value={filter} onChange={handleFilterChange} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (!(\"text\" in message)) {\n    return null;\n  }\n  const color = \"type\" in message ? \"red\" : \"green\";\n  const style = {\n      color: color,\n      fontSize: 16\n  }\n  return <div className=\"error\" style={style}>{message.text}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [notification, setNotification] = useState({});\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <Notification message={notification} />\n      <h2>Phonebook</h2>\n      <Filter filter={filter} setFilter={setFilter} />\n      <h2>Add new</h2>\n      <PersonForm\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        persons={persons}\n        setPersons={setPersons}\n        setNotification={setNotification}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} setPersons={setPersons} setNotification={setNotification}/>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}